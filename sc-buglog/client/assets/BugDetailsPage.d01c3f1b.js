import{c as t,x as a,w as e,p as s,h as c,u as l,d as o,o as d,a as i,b as u,t as r,q as n,n as g,F as v,i as m,j as p}from"./vendor.c5379c6f.js";import{b as B,P as y,A as b}from"./index.eb9c399a.js";const w={setup(){const s=l(),c=t((()=>b.activeBug));a((async()=>{try{await B.getBugById(s.params.bugId)}catch(t){y.toast(t,"error")}}));const o=t((()=>b.notes[s.params.bugId]||[]));return e((async()=>{try{s.params.bugId&&await B.getNotesByBugId(s.params.bugId)}catch(t){y.toast(t,"error")}})),{activeBug:c,notes:o,updatedDate:t((()=>{if(c.value.updatedAt){const t=new Date(c.value.updatedAt);return new Intl.DateTimeFormat("en-US").format(t)}return 0})),account:t((()=>b.account)),async closeBug(){try{await B.closeBug(c.value.id)}catch(t){y.toast(t,"error")}}}}},h=p();s("data-v-6f3d4707");const f={key:0,class:"col-12"},x={class:"row mt-2"},k=u("div",{class:"col-1"},null,-1),I={class:"col-10 bg-primary shadow pb-3"},D={class:"row"},C={class:"col-12 d-flex align-items-center"},E={class:"mr-auto"},N={key:0},j={key:0,type:"button",class:"btn btn-outline-success shadow text-light","data-toggle":"modal","data-target":"#editBugModal",title:"Edit Bug Button"},A={class:"row"},F={class:"col-12"},_={key:0,class:"div text-green text-shadow"},L={class:"m-0 p-0"},M=u("b",null,"CLOSED",-1),O={key:1,class:"div text-red text-shadow m-0 p-0 d-flex align-items-center justify-content-around"},P=u("h4",{class:"m-0 p-0"},[u("b",null,"OPEN")],-1),S={key:0,class:"m-0"},U=u("div",{class:"row mt-3"},null,-1),q={class:"col text-shadow"},T=u("div",{class:"col-1"},null,-1),z={class:"row bg-light shadow mt-3 my-2"},G=u("div",{class:"col-2 mt-2"},[u("h3",{class:""}," Notes: ")],-1),H={key:0,class:"col-10 mt-2 mb-3"};c();const J=h(((t,a,e,s,c,l)=>{const p=o("CreateNoteForm"),B=o("Note"),y=o("EditBugModal");return d(),i(v,null,[s.activeBug._id?(d(),i("div",f,[u("div",x,[k,u("div",I,[u("div",D,[u("div",C,[u("h1",E,r(s.activeBug.title),1),s.account.id===s.activeBug.creatorId?(d(),i("div",N,[s.activeBug.closed?n("",!0):(d(),i("button",j," ✏ Edit Bug "))])):n("",!0)])]),u("div",A,[u("div",F,[u("img",{class:"profile-img mr-3",src:s.activeBug.creator.picture,alt:s.activeBug.creator.name},null,8,["src","alt"]),u("p",null,r(s.activeBug.creator.name),1),s.activeBug.closed?(d(),i("div",_,[u("h4",L,[M,g(" Date: "+r(s.activeBug.closedDate),1)])])):(d(),i("div",O,[P,s.activeBug.updatedAt?(d(),i("p",S," Last Updated "+r(s.updatedDate),1)):n("",!0),s.account.id===s.activeBug.creatorId?(d(),i("p",{key:1,class:"pl-1 m-0 pointer",title:"Close Bug Button",onClick:a[1]||(a[1]=(...t)=>s.closeBug&&s.closeBug(...t))}," Click to Close ")):n("",!0)]))])]),U,u("div",q,r(s.activeBug.description),1)]),T]),u("div",z,[G,s.activeBug.closed?n("",!0):(d(),i("div",H,[u(p)])),(d(!0),i(v,null,m(s.notes,(t=>(d(),i("div",{class:"col-12 d-flex",key:t.id},[u(B,{note:t},null,8,["note"])])))),128))])])):n("",!0),u(y)],64)}));w.render=J,w.__scopeId="data-v-6f3d4707";export default w;
